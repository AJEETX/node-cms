extends ../layout

block content
    .row
        .col-md-12
            form(action='', method='post')
                .form-group
                    label 名称
                    input.form-control(name='name', value='#{data.name}')
                .form-group
                    label 权限
                    //input.form-control(name='actions', placeholder='逗号分割', value='#{data.actions}')
                    h4 选择权限
                    - each action in ACTIONS
                        | #{action.name}
                        ul
                            - each item in action.actions
                                li 
                                    - var checked = data.actions.indexOf(item.value) > -1 ? 'checked' : undefined;
                                    label
                                        input(name='actions', type='checkbox', value='#{item.value}', checked=checked)
                                        | #{item.name} (#{item.description})
                .form-group
                    label 描述
                    textarea.form-control(name='description', rows='8') #{data.description}
                input(type='hidden', name='_csrf', value='#{token}')
                button.btn.btn-primary(type='submit') 提交

